plugins {
    id("java")
    //id("jvm-test-suite")
    id("org.gradle.test-retry") version "1.6.2"
    
}


repositories {
    mavenCentral()
}

dependencies {
    testImplementation("junit:junit:4.13")
       testImplementation 'org.junit.jupiter:junit-jupiter-api:5.10.0'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.10.0'
}

test {
    useJUnit()
    ignoreFailures = false
    filter {
    //excludeTestsMatching "*mytest*"
 }
    retry {
        maxRetries = 3
        maxFailures = 20
        failOnPassedAfterRetry = false
    }
    useJUnitPlatform()
}

task hello {
    doLast {
        println providers.systemProperty("teamcity.version").present
        println(providers.systemProperty("teamcity.version").get())
        //println project.ext["teamcity.build.branch"]
    }
}

task upper(dependsOn: hello){
    doLast {
        String someString = 'mY_nAmE'
        println "Original: " + someString
        println "Upper case: " + someString.toUpperCase()
    }
}
