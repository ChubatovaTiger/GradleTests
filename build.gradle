plugins {
    id("java")
    //id("jvm-test-suite")
    id("org.gradle.test-retry") version "1.6.2"
    
}


repositories {
    mavenCentral()
}

dependencies {
    // JUnit 5
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.10.0'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.10.0'

    // JUnit 4
    testImplementation 'junit:junit:4.13.2'  // classic JUnit 4
}

test {
    useJUnitPlatform() // important for JUnit 5 dynamic tests

    // allow JUnit 4 tests to run on JUnit Platform
    // this enables discovery of old JUnit 4 tests
    // JUnit 4 tests must use the vintage engine
    jvmArgs += ['-Djunit.platform.output.capture.stdout=true']
}

task hello {
    doLast {
        println providers.systemProperty("teamcity.version").present
        println(providers.systemProperty("teamcity.version").get())
        //println project.ext["teamcity.build.branch"]
    }
}

task upper(dependsOn: hello){
    doLast {
        String someString = 'mY_nAmE'
        println "Original: " + someString
        println "Upper case: " + someString.toUpperCase()
    }
}
